import{_ as I,i as o,e as O,r as _,o as g,c as w,a as e,x as b,u as r,y as D,w as V,v as A,k as E,z as H,A as L,B as f,t as k,C as N}from"./index.feae9843.js";const a=d=>(H("data-v-cdd44dce"),d=d(),L(),d),R={class:"fixed z-50 inset-0","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Z={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},z=a(()=>e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"\u200B",-1)),W={class:"relative inline-block align-bottom bg-white dark:bg-gray-800 dark:text-gray-300 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle"},Y=a(()=>e("div",{class:"relative"},[e("div",{class:"flex flex-col justify-center items-center px-4 pt-10 pb-4 h-auto lg:w-96 md:w-80 w-72"},[e("img",{class:"w-58 h-52 object-cover mb-1",src:"https://stickershop.line-scdn.net/stickershop/v1/sticker/28128900/android/sticker.png",alt:""}),e("span",{class:"text-xl font-semibold"}," Thank you for playing! ")])],-1)),U={class:"relative p-2 mb-16 grid grid-cols-2 text-center mt-3"},q={class:"relative"},F=a(()=>e("span",{class:"absolute -top-4 text-xs"},"Score:",-1)),J={class:"relative"},K=a(()=>e("span",{class:"absolute -top-4 text-xs"},"Playtime:",-1)),Q={key:0,class:"relative col-span-2 text-left mt-3"},X=a(()=>e("label",{class:"text-xs",for:""}," Input your username to update the score list ",-1)),ee={class:"relative mt-2"},te=a(()=>e("button",{class:"absolute top-1 right-1 py-1 px-4 bg-sky-500 text-white font-semibold rounded-lg"}," Submit ",-1)),se={class:"absolute bottom-0 inset-x-0"},oe={class:"flex flex-row p-2 gap-2 flex-wrap"},le={class:"flex-1"},ae=k(" Share "),ie=a(()=>e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48"},[e("g",{fill:"none",stroke:"#ffffff","stroke-linejoin":"round","stroke-width":"4"},[e("path",{d:"M35 16a5 5 0 1 0 0-10a5 5 0 0 0 0 10ZM13 29a5 5 0 1 0 0-10a5 5 0 0 0 0 10Z"}),e("path",{"stroke-linecap":"round",d:"m30 13.575l-12.661 7.67m0 5.319l13.34 7.883"}),e("path",{d:"M35 32a5 5 0 1 1 0 10a5 5 0 0 1 0-10Z"})])],-1)),ne=[ae,ie],re={class:"flex-1"},de=k(" Restart "),ce=a(()=>e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48"},[e("g",{fill:"none",stroke:"#ffffff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"},[e("path",{d:"M4 25c0-6.65 5.396-12 12-12h28"}),e("path",{d:"m38 7l6 6l-6 6m6 4c0 6.65-5.396 12-12 12H4"}),e("path",{d:"m10 41l-6-6l6-6"})])],-1)),ue=[de,ce],ve={__name:"ModalGameOver",setup(d){const{share:y,isSupported:M}=N(),i=o("scoreProv"),S=o("lifeProv"),P=o("modalGameOverProv"),c=o("hourProv"),u=o("minuteProv"),v=o("secondProv"),j=o("milliProv"),C=o("selectLangProv"),h=o("allWordsProv");let T=()=>{i.value=0,P.value=!1,S.value=5,$(),C.value==2&&h.value.forEach((l,t)=>{h.value.splice(t,1,{id:l.id,name:l.name,dir:0,top:l.top})})},$=()=>{c.value=0,u.value=0,v.value=0,j.value=0};const p=O(()=>{const l=c.value.toString().length==1?"0"+c.value:c.value,t=u.value.toString().length==1?"0"+u.value:u.value,s=v.value.toString().length==1?"0"+v.value:v.value;return`${l}:${t}:${s}`});let B=()=>{M&&y({title:"Playing Typewrite",text:`Hey, i got ${i.value} within ${p.value}!`,url:location.href})};const m=_(""),x=_(!1),n=o("scoreListProv");let G=()=>{if(n.value.length<10)n.value.push({username:m.value,score:i.value,playtime:p.value,date:Date.now()});else{const l=Math.min(...n.value.map(s=>s.score)),t=n.value.findIndex(s=>s.score===l);n.value.forEach(s=>{i.value>s.score&&s.score&&n.value.splice(t,1,{username:m.value,score:i.value,playtime:p.value,date:Date.now()})})}x.value=!0};return(l,t)=>(g(),w("div",R,[e("div",Z,[z,e("div",W,[Y,e("div",U,[e("p",q,[F,t[0]||(f(-1),t[0]=e("span",{class:"text-xl font-semibold",textContent:b(r(i))},null,8,["textContent"]),f(1),t[0])]),e("p",J,[K,t[1]||(f(-1),t[1]=e("span",{class:"text-xl font-semibold",textContent:b(r(p))},null,8,["textContent"]),f(1),t[1])]),x.value?E("",!0):(g(),w("div",Q,[e("form",{onSubmitOnce:t[3]||(t[3]=D(s=>r(G)(),["prevent"])),class:"flex flex-col p-3"},[X,e("div",ee,[V(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>m.value=s),focus:"true",class:"font-normal dark:bg-gray-700 py-1.5 pl-4 pr-24 focus:outline-none w-full border-2 border-sky-500 rounded-lg",type:"text"},null,512),[[A,m.value,void 0,{trim:!0}]]),te])],32)]))]),e("div",se,[e("div",oe,[e("div",le,[e("button",{onClick:t[4]||(t[4]=s=>r(B)()),class:"bg-sky-500 w-full gap-2 justify-center text-white inline-flex items-center rounded-lg py-2 px-4 font-semibold"},ne)]),e("div",re,[e("button",{onClick:t[5]||(t[5]=s=>r(T)()),class:"bg-sky-500 w-full gap-2 justify-center text-white inline-flex items-center rounded-lg py-2 px-4 font-semibold"},ue)])])])])])]))}};var me=I(ve,[["__scopeId","data-v-cdd44dce"]]);export{me as default};
