import{_ as D,i as o,r as h,e as L,y as E,o as w,c as b,a as e,x as k,u as r,z as V,w as A,v as H,k as N,A as R,B as U,C as f,t as y,D as Z}from"./index.7ccf1a48.js";const a=d=>(R("data-v-af6c0fd4"),d=d(),U(),d),z={class:"fixed z-50 inset-0","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},W={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Y=a(()=>e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"\u200B",-1)),q={class:"relative inline-block align-bottom bg-white dark:bg-gray-800 dark:text-gray-300 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle"},F=a(()=>e("div",{class:"relative"},[e("div",{class:"flex flex-col justify-center items-center px-4 pt-10 pb-4 h-auto lg:w-96 md:w-80 w-72"},[e("img",{class:"w-58 h-52 object-cover mb-1",src:"https://stickershop.line-scdn.net/stickershop/v1/sticker/28128900/android/sticker.png",alt:""}),e("span",{class:"text-xl font-semibold"}," Thank you for playing! ")])],-1)),J={class:"relative p-2 mb-16 grid grid-cols-2 text-center mt-3"},K={class:"relative"},Q=a(()=>e("span",{class:"absolute -top-4 text-xs"},"Score:",-1)),X={class:"relative"},ee=a(()=>e("span",{class:"absolute -top-4 text-xs"},"Playtime:",-1)),te={key:0,class:"relative col-span-2 text-left mt-3"},se=a(()=>e("label",{class:"text-xs",for:""}," Input your username to update the score list ",-1)),oe={class:"relative mt-2"},le=a(()=>e("button",{class:"absolute top-1 right-1 py-1 px-4 bg-sky-500 text-white font-semibold rounded-lg"}," Submit ",-1)),ae={class:"absolute bottom-0 inset-x-0"},ne={class:"flex flex-row p-2 gap-2 flex-wrap"},ie={class:"flex-1"},re=y(" Share "),de=a(()=>e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48"},[e("g",{fill:"none",stroke:"#ffffff","stroke-linejoin":"round","stroke-width":"4"},[e("path",{d:"M35 16a5 5 0 1 0 0-10a5 5 0 0 0 0 10ZM13 29a5 5 0 1 0 0-10a5 5 0 0 0 0 10Z"}),e("path",{"stroke-linecap":"round",d:"m30 13.575l-12.661 7.67m0 5.319l13.34 7.883"}),e("path",{d:"M35 32a5 5 0 1 1 0 10a5 5 0 0 1 0-10Z"})])],-1)),ce=[re,de],ue={class:"flex-1"},ve=y(" Restart "),me=a(()=>e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48"},[e("g",{fill:"none",stroke:"#ffffff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"},[e("path",{d:"M4 25c0-6.65 5.396-12 12-12h28"}),e("path",{d:"m38 7l6 6l-6 6m6 4c0 6.65-5.396 12-12 12H4"}),e("path",{d:"m10 41l-6-6l6-6"})])],-1)),pe=[ve,me],fe={__name:"ModalGameOver",setup(d){const{share:M,isSupported:S}=Z(),n=o("scoreProv"),P=o("lifeProv"),T=o("modalGameOverProv"),c=o("hourProv"),u=o("minuteProv"),v=o("secondProv"),j=o("milliProv"),C=o("selectLangProv"),x=o("allWordsProv"),m=h(""),_=h(!1),i=o("scoreListProv"),g=h(),$=o("winLoseProv");let B=()=>{n.value=0,T.value=!1,P.value=5,G(),C.value==2&&x.value.forEach((l,t)=>{x.value.splice(t,1,{id:l.id,name:l.name,dir:0,top:l.top})})},G=()=>{c.value=0,u.value=0,v.value=0,j.value=0};const p=L(()=>{const l=c.value.toString().length==1?"0"+c.value:c.value,t=u.value.toString().length==1?"0"+u.value:u.value,s=v.value.toString().length==1?"0"+v.value:v.value;return`${l}:${t}:${s}`});let I=()=>{S&&M({title:"Playing Typewrite",text:`Hey, i got ${n.value} within ${p.value}!`,url:location.href})},O=()=>{if(i.value.length<10)i.value.push({username:m.value,score:n.value,playtime:p.value,date:Date.now()});else{const l=Math.min(...i.value.map(s=>s.score)),t=i.value.findIndex(s=>s.score===l);i.value.forEach(s=>{n.value>s.score&&s.score&&i.value.splice(t,1,{username:m.value,score:n.value,playtime:p.value,date:Date.now()})})}_.value=!0};return E(()=>{setTimeout(()=>{$.value&&g.value.focus()},500)}),(l,t)=>(w(),b("div",z,[e("div",W,[Y,e("div",q,[F,e("div",J,[e("p",K,[Q,t[0]||(f(-1),t[0]=e("span",{class:"text-xl font-semibold",textContent:k(r(n))},null,8,["textContent"]),f(1),t[0])]),e("p",X,[ee,t[1]||(f(-1),t[1]=e("span",{class:"text-xl font-semibold",textContent:k(r(p))},null,8,["textContent"]),f(1),t[1])]),_.value?N("",!0):(w(),b("div",te,[e("form",{onSubmitOnce:t[3]||(t[3]=V(s=>r(O)(),["prevent"])),class:"flex flex-col p-3"},[se,e("div",oe,[A(e("input",{ref_key:"stateUsername",ref:g,"onUpdate:modelValue":t[2]||(t[2]=s=>m.value=s),class:"font-normal dark:bg-gray-700 py-1.5 pl-4 pr-24 focus:outline-none w-full border-2 border-sky-500 rounded-lg",type:"text"},null,512),[[H,m.value,void 0,{trim:!0}]]),le])],32)]))]),e("div",ae,[e("div",ne,[e("div",ie,[e("button",{onClick:t[4]||(t[4]=s=>r(I)()),class:"bg-sky-500 w-full gap-2 justify-center text-white inline-flex items-center rounded-lg py-2 px-4 font-semibold"},ce)]),e("div",ue,[e("button",{onClick:t[5]||(t[5]=s=>r(B)()),class:"bg-sky-500 w-full gap-2 justify-center text-white inline-flex items-center rounded-lg py-2 px-4 font-semibold"},pe)])])])])])]))}};var xe=D(fe,[["__scopeId","data-v-af6c0fd4"]]);export{xe as default};
